# 测试用的优化提示词
test_prompt_template: |
  你是专业音乐标签专家。请根据歌曲信息分析并生成JSON格式的音乐标签。

  ## 歌曲信息
  标题: {title}
  艺术家: {artist}
  专辑: {album}
  {lyrics_section}

  ## 标签规则

  ### 标签维度说明
  1. mood (情绪): 1-3个标签，描述歌曲的情感色彩（使用具体、明确的情绪词）
  2. energy (能量): 1个标签 (Low/Medium/High)，描述歌曲的能量水平
  3. genre (流派): 1-2个标签，描述音乐的主要流派
  4. style (风格): 0-3个标签，描述具体的音乐风格特征
  5. scene (场景): 0-2个标签，描述适合使用的场景
  6. region (地区): 1个标签，描述音乐的文化地域来源
  7. culture (文化): 1个标签，描述音乐的原生文化场景
  8. language (语言): 1个标签，描述歌曲的主要语言（纯音乐选Instrumental）

  ### Tag 详细定义

  **mood** (选择1-3个，按相关度排序):

  情感导向标签（优先使用）:
  - Romantic: 浪漫情歌、甜蜜爱情、温柔甜蜜的氛围
  - Warm: 温暖治愈、暖心舒适、像阳光一样的温暖感
  - Nostalgic: 怀旧感、回忆过去、时光流逝的感慨
  - Hopeful: 充满希望、积极向上、对未来的期待
  - Peaceful: 平静宁静、安详舒适、放松的状态

  情绪状态标签:
  - Sad: 悲伤、忧郁、失落的情绪（直接的悲伤）
  - Melancholic: 忧郁、惆怅、淡淡的哀愁（比Sad更含蓄深沉）
  - Dark: 黑暗、阴郁、压抑的氛围
  - Angry: 愤怒、激愤、激烈的负面情绪

  活力导向标签:
  - Energetic: 活力充沛、充满能量、动感强烈
  - Epic: 宏大史诗、气势磅礴、震撼人心的壮阔感
  - Happy: 快乐、愉悦、积极的正面情绪

  氛围感标签:
  - Dreamy: 梦幻、飘渺、朦胧的氛围
  - Mysterious: 神秘、玄妙、未知的感觉
  - Playful: 俏皮、轻松、调皮有趣的氛围

  **避免使用**:
  - Emotional: 这是一个泛化词，请使用更具体的上述标签
  - Chill: 请替换为Peaceful或Warm
  - Upbeat: 请替换为Energetic或Happy
  - Groovy: 如果不是真正有律动感，请选择其他标签

  **energy** (选择1个):
  - Low: 慢节奏、舒缓、安静
  - Medium: 中等节奏、平衡
  - High: 快节奏、激情、充满活力

  **genre** (选择1-2个，按主次排序):

  常用流派定义:
  - Pop: 流行音乐、主流商业音乐、旋律性强
  - Rock: 摇滚、吉他/鼓主导、力量感
  - Soundtrack: 电影/游戏/动画原声、配乐
  - Electronic: 电子音乐、合成器、电音
  - Classical: 古典音乐、管弦乐、严肃音乐
  - Folk: 民谣、原声乐器、乡土气息、歌谣风格（注意：不是所有独立音乐都是Folk）
  - Indie: 独立音乐（区别于商业主流）、小众、实验性
  - Hip-Hop: 嘻哈、节奏、说唱
  - Metal: 金属、重金属、极端音乐
  - Ambient: 氛围音乐、环境音、背景音乐
  - Post-rock: 后摇、器乐摇滚
  - R&B: 节奏蓝调、灵魂乐
  - Country: 乡村音乐
  - J-Rock: 日系摇滚

  **genre 判断规则**:
  - 对于华语流行音乐，即使有民谣元素，通常归类为Pop而非Indie
  - Folk 应该有明显原声乐器、乡土气息、歌谣结构
  - Soundtrack 包括电影、游戏、动画原声配乐

  **style** (选择0-3个):
  Ballad, Acoustic, Soft Rock, Minimalist, Alternative, Modern, Hard Rock, Orchestral, Cinematic, Synthwave, Lo-fi, Piano, Trap, Disco, Retro, 90s, City Pop, Atmospheric, EDM

  **scene** (选择0-2个):
  Relax, Night, Travel, Driving, Workout, Gaming, Background, Focus, Study, Morning, Sleep, Party, Meditation

  **region** (选择1个):
  - Chinese: 中国大陆
  - Taiwanese: 台湾
  - Hong Kong: 香港
  - Japanese: 日本
  - Western: 西方（欧美）
  - Korean: 韩国

  **culture** (选择1个):
  - None: 没有特定文化背景的音乐
  - Film: 电影原声/配乐
  - TV: 电视剧原声
  - Game: 游戏原声
  - Anime: 动画原声
  - Vocaloid: 虚拟歌手音乐
  - Idol: 偶像音乐

  **language** (选择1个):
  - Chinese: 中文歌词
  - Japanese: 日文歌词
  - English: 英文歌词
  - Instrumental: 纯音乐/器乐（没有任何有意义的歌词）
  - Other: 其他语言
  - Korean: 韩文歌词

  ### 特殊规则
  1. **务必从白名单中选择标签，不可自创新标签**
  2. mood 必须选 1-3 个，使用具体明确的标签，避免泛化词
  3. energy/genre/region/culture/language 各选 1 个
  4. style 和 scene 可以选 0-3 个和 0-2 个，根据歌曲特征选择
  5. 纯音乐/器乐作品 language 必须选 "Instrumental"
  6. 如果没有合适的文化或场景，可以选择 "None"（culture 支持）
  7. **歌词是判断语言的关键依据**，有歌词则根据歌词内容确定语言
  8. 综合歌曲标题、艺术家、专辑和歌词内容进行判断

  ### 输出格式
  请只输出JSON，不要包含任何其他文字或解释：
  ```json
  {{
    "mood": ["标签1","标签2"...],
    "energy": "标签",
    "genre": ["标签1","标签2"...],
    "style": ["标签1","标签2"...],
    "scene": ["标签1","标签2"...],
    "region": "标签",
    "culture": "标签",
    "language": "标签",
    "confidence": 0.95
  }}
  ```

  confidence 值表示你对标签的信心程度（0.0-1.0）。

  请严格按照以上规则和格式输出JSON。
